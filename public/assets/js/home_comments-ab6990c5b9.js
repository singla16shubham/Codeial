{let e=function(){let e=$("#new-comment-form");e.submit((function(o){o.preventDefault(),$.ajax({type:"post",url:"/comment/create",data:e.serialize(),success:function(e){console.log(e);let o=t(e.data.comment);$(`#post-comments-${e.data.comment.post}`).prepend(o),n($(" .delete-comment-button",o)),console.log(e),new ToggleLike($(" .toggle-like-button",o)),new Noty({theme:"relax",text:"Comment published",type:"success",layout:"topRight",timeout:1500}).show()},error:function(e){console.log(e.responseText)}})}))},t=function(e){return $(`<li id="comment-${e._id}">\n       <p>\n           ${e.content}\n             \n                   <small>\n                       <a class="delete-comment-button" href="/comment/destroy/${e._id}">X</a>\n                   </small>\n           \n                \n           <br>\n           <small>\n               ${e.user.name}\n           </small>\n           <br>\n           <small>\n           <a class="toggle-like-button" data-likes="0" href="/likes/toggle/?id=${e._id}&type=Comment">\n           0 Likes\n   </a>\n           \n           </small>\n       </p>\n       \n   </li>`)},n=function(e){$(e).click((function(t){t.preventDefault(),$.ajax({type:"get",url:$(e).prop("href"),success:function(e){$(`#comment-${e.data.comment_id}`).remove(),new Noty({theme:"relax",text:"Comment Deleted",type:"success",layout:"topRight",timeout:1500}).show()},error:function(e){console.log(e.responseText)}})}))};for(i of $(" .delete-comment-button"))n(i);e()}